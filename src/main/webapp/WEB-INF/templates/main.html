<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="eng">
<head th:replace="~{fragments/header :: header}">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
</head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<link href="../../static/css/main.css" rel="stylesheet"/>
<link href="../../static/css/post.css" rel="stylesheet"/>
<body>
<!--    <div th:replace="~{fragments/navigation :: bar}"></div>-->
<!--    <div class="navigation" th:fragment="bar">-->
<!--        <a href="/hello"><h3>Spring MVC</h3></a>-->
<!--        <hr class="division-line">-->
<!--    </div>-->

<ul class="nav">
    <li class="nav-item">
       <div class="project-name">Spring MVC</div>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/main">홈</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/chat">채팅</a>
    </li>

    <li class="nav-item ml-auto">
        <div class="my-info" th:text="${id}">id</div>
        <div class="my-info" th:text="${nickname}">nickname</div>
    </li>
    <li class="nav-item">
        <div class="my-info" th:text="${role}">role</div>
    </li>
    <li class="nav-item">
        <form role="form" id="logoutForm" th:action="@{/logout}" method="post">
                <button type="submit" class="btn" style="color:#cccccc"> 로그아웃</button>
        </form>
    </li>
</ul>
<!-- 개발 이후 삭제 위에 -->

<div class="container">
    <div th:each="post : ${posts}" class="card">
        <div class="thumbnail">
            <img th:src="@{'/display/' + ${post.thumbnailName}}" alt="썸네일"/>
        </div>
        <div class="info">
            <span th:text="${post.title}" class="subject">제목</span>
            <span th:text="${post.author.id}" class="author">작성자</span>
        </div>
    </div>

    <!-- 검색창 -->
    <div class="search-bar">
        <form th:action="@{/main}" th:object="${postSearch}" method="get" >
                <input th:field="*{search}" type="text" maxlength="100" placeholder="검색">
                <input th:field="*{page}" type="hidden">
                <button type="submit">검색</button>
        </form>
    </div>


    <!-- 페이지네이션 -->
    <div class="pagination">
        <a href="#">1</a>
        <a href="#">2</a>
        <a href="#">3</a>
        <a href="#">4</a>
        <a href="#">5</a>
        <a href="#">6</a>
        <a href="#">7</a>
        <a href="#">8</a>
        <a href="#">9</a>
        <a href="#">></a>
        <a href="#">>></a>
    </div>

    <!-- 글쓰기 버튼 -->
    <button class="write-btn" onclick="location.href='post'">글쓰기</button>
</div>

</body>

</html>